# 异常值检测-Part1 Outlier Analysis

我们主要的领域是时间序列的异常值检测，所以就研究一下第8章：TIME SERIES AND MULTIDIMENSIONAL STREAMING OUTLIER DETECTION

## 1 简介

流式异常值检测。

对异常值的定义：

- 时间序列中的突变检测
  - 异常值定义为不寻常，表现出与其直接或长期历史缺乏连续性
  - 举例：值的突然变化或子序列的特殊形状
  - 纵向分析更为重要，将每个单独的序列视为一个单元，主要在该单元上进行分析
  - 若多个序列，则可以利用互相关，但这并不起主要作用（时间序列都是上下文相关的）
- 多维数据中的特异性和变化检测
  - 数据包含独立的多维数据点
  - 多维数据流中，异常可能对应于聚合趋势发生变化的时间点，也可能对应与这些聚合趋势不同的单个特异数据点
  - 上一条的第二种类型，对应于流数据中传入的数据点
  - 数据流的所有维度都被视为一个单元，通过聚合这些单元中的趋势来识别异常
  - 横向
  - 举例：文本数据流中关于特定主题的第一个故事，会被认为是特异性的异常值，如果这个数据流中主题的总体趋势是朝着目前这个“异常值”，那么经过一段时间后，类似的数据就不会被认为是特异的，而成为数据的正常部分。直接连续性上看，并不是那么重要，但总体趋势的重大变化仍然很重要。

时间序列中的异常值检测也可以分成两类：

- 上下文异常：特定时间戳的值发生突变，从而被归为异常值
- 集体异常：整个时间序列或时间序列中的大子序列因为不寻常的形状而被归为异常值

标签：可以使用标签来监督异常检测的过程。时间序列：标签可能与时间点、时间间隔相关，或者与整个序列相关；多维：标签与各个数据点相关。

时间数据允许定义多种异常。

2中介绍用于检测时间序列中异常时刻点算法，通常情况下是基于对时刻预测值的偏差检测。检测到的是上下文异常值。3中介绍时间序列数据中检测异常形状的算法，集体异常值。4中介绍多维流数据异常值检测。5总结。

## 2 基于预测的时间序列异常值检测

最普遍的是基于回归的预测模型，检测特定时间点的基于偏差的异常值。既可以用于检测数据流的突变，也可以用于过滤噪声。基于偏差的异常值和预测问题密切相关，因为异常值是根据预期与实际值的偏差来定义的。

时间连续性起重要的作用，因为我们做的假设是时间序列数据在连续瞬间相关，且不会发生突变。基于偏差的异常值检测需要使用各种回归模型获得下一个时间戳的预测值。于是就可以使用单个时间序列或者跨多个序列的相关性来进行预测。因此，使用两种相关性：

- **跨时间的相关性**：与时间连续性本质上差别不大，将一系列自回归模型用于预测和其他应用，将异常值定义为与预测值有显著偏差的值。显著偏差表现为突变，与数据流中出现的平稳、长期数据漂移不同。
- **跨序列的相关性**：传感器网络，导致时间序列通常彼此密切相关。eg：一个传感器检测到的污染，通常也会被附近的传感器检测到。这种情况下，可以用一个序列来预测另一个序列。与预测值偏差显著的可以标记为异常。

这里研究回归建模在时间序列数据中的应用。

### 2.1 自回归模型(AR)

适用于单变量时间序列中的上下文。令$X_1 ... X_t...$是单变量时间序列中的值。在自回归模型中，$X_t$的值是根据最后一个长度为$p$的窗里的数据确定的。
$$
X_t=\sum_{i=1}^p a_i\cdot X_{t-i}+c+\epsilon_t
$$
